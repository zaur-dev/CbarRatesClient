@using CbarRatesApp.Models;
@inject IJSRuntime JS

<canvas id="@Id"></canvas>

@code {
    private IJSObjectReference? module;

    [Parameter]
    public string Id { get; set; }
    [Parameter]
    public string[] Data { get; set; }
    [Parameter]
    public string[] Labels { get; set; }

    [Parameter]
    public ChartConfig Config { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {

        //var config = new
        //{
        //    Type = "line",
        //    Options = new { },
        //    Data = new
        //    {
        //        Labels = new string[] { "January", "February", "March" },
        //        Datasets = new[]
        //        {
        //        new { Data = new string[] { "60", "54", "33" }, Label = "my label"  }
        //    }
        //    },
        //    Plugins = new[] { new { } }
        //};



        module = await JS.InvokeAsync<IJSObjectReference>("import", "./Components/ZgLineChart.razor.js");
        await module.InvokeVoidAsync("setup", Id, Config);
    }
}